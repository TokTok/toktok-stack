/* generated by MKunctrl.awk */

#include <curses.priv.h>
#include <ctype.h>

#undef unctrl

NCURSES_EXPORT(NCURSES_CONST char *) safe_unctrl(SCREEN *sp, chtype ch)
{
static const char* const unctrl_table[] = {
    "^\100", "^\101", "^\102", "^\103", "^\104", "^\105", "^\106", "^\107",
    "^\110", "^\111", "^\112", "^\113", "^\114", "^\115", "^\116", "^\117",
    "^\120", "^\121", "^\122", "^\123", "^\124", "^\125", "^\126", "^\127",
    "^\130", "^\131", "^\132", "^\133", "^\134", "^\135", "^\136", "^\137",
    "\040",  "\041",  "\042",  "\043",  "\044",  "\045",  "\046",  "\047", 
    "\050",  "\051",  "\052",  "\053",  "\054",  "\055",  "\056",  "\057", 
    "\060",  "\061",  "\062",  "\063",  "\064",  "\065",  "\066",  "\067", 
    "\070",  "\071",  "\072",  "\073",  "\074",  "\075",  "\076",  "\077", 
    "\100",  "\101",  "\102",  "\103",  "\104",  "\105",  "\106",  "\107", 
    "\110",  "\111",  "\112",  "\113",  "\114",  "\115",  "\116",  "\117", 
    "\120",  "\121",  "\122",  "\123",  "\124",  "\125",  "\126",  "\127", 
    "\130",  "\131",  "\132",  "\133",  "\134",  "\135",  "\136",  "\137", 
    "\140",  "\141",  "\142",  "\143",  "\144",  "\145",  "\146",  "\147", 
    "\150",  "\151",  "\152",  "\153",  "\154",  "\155",  "\156",  "\157", 
    "\160",  "\161",  "\162",  "\163",  "\164",  "\165",  "\166",  "\167", 
    "\170",  "\171",  "\172",  "\173",  "\174",  "\175",  "\176",  "^?",
    "~\100", "~\101", "~\102", "~\103", "~\104", "~\105", "~\106", "~\107",
    "~\110", "~\111", "~\112", "~\113", "~\114", "~\115", "~\116", "~\117",
    "~\120", "~\121", "~\122", "~\123", "~\124", "~\125", "~\126", "~\127",
    "~\130", "~\131", "~\132", "~\133", "~\134", "~\135", "~\136", "~\137",
    "M-\040", "M-\041", "M-\042", "M-\043", "M-\044", "M-\045", "M-\046", "M-\047",
    "M-\050", "M-\051", "M-\052", "M-\053", "M-\054", "M-\055", "M-\056", "M-\057",
    "M-\060", "M-\061", "M-\062", "M-\063", "M-\064", "M-\065", "M-\066", "M-\067",
    "M-\070", "M-\071", "M-\072", "M-\073", "M-\074", "M-\075", "M-\076", "M-\077",
    "M-\100", "M-\101", "M-\102", "M-\103", "M-\104", "M-\105", "M-\106", "M-\107",
    "M-\110", "M-\111", "M-\112", "M-\113", "M-\114", "M-\115", "M-\116", "M-\117",
    "M-\120", "M-\121", "M-\122", "M-\123", "M-\124", "M-\125", "M-\126", "M-\127",
    "M-\130", "M-\131", "M-\132", "M-\133", "M-\134", "M-\135", "M-\136", "M-\137",
    "M-\140", "M-\141", "M-\142", "M-\143", "M-\144", "M-\145", "M-\146", "M-\147",
    "M-\150", "M-\151", "M-\152", "M-\153", "M-\154", "M-\155", "M-\156", "M-\157",
    "M-\160", "M-\161", "M-\162", "M-\163", "M-\164", "M-\165", "M-\166", "M-\167",
    "M-\170", "M-\171", "M-\172", "M-\173", "M-\174", "M-\175", "M-\176", "~?"
};

#if NCURSES_EXT_FUNCS
static const char* const unctrl_c1[] = {
    "\200",  "\201",  "\202",  "\203",  "\204",  "\205",  "\206",  "\207", 
    "\210",  "\211",  "\212",  "\213",  "\214",  "\215",  "\216",  "\217", 
    "\220",  "\221",  "\222",  "\223",  "\224",  "\225",  "\226",  "\227", 
    "\230",  "\231",  "\232",  "\233",  "\234",  "\235",  "\236",  "\237", 
    "\240",  "\241",  "\242",  "\243",  "\244",  "\245",  "\246",  "\247", 
    "\250",  "\251",  "\252",  "\253",  "\254",  "\255",  "\256",  "\257", 
    "\260",  "\261",  "\262",  "\263",  "\264",  "\265",  "\266",  "\267", 
    "\270",  "\271",  "\272",  "\273",  "\274",  "\275",  "\276",  "\277", 
    "\300",  "\301",  "\302",  "\303",  "\304",  "\305",  "\306",  "\307", 
    "\310",  "\311",  "\312",  "\313",  "\314",  "\315",  "\316",  "\317", 
    "\320",  "\321",  "\322",  "\323",  "\324",  "\325",  "\326",  "\327", 
    "\330",  "\331",  "\332",  "\333",  "\334",  "\335",  "\336",  "\337", 
    "\340",  "\341",  "\342",  "\343",  "\344",  "\345",  "\346",  "\347", 
    "\350",  "\351",  "\352",  "\353",  "\354",  "\355",  "\356",  "\357", 
    "\360",  "\361",  "\362",  "\363",  "\364",  "\365",  "\366",  "\367", 
    "\370",  "\371",  "\372",  "\373",  "\374",  "\375",  "\376",  "\377"
};
#endif /* NCURSES_EXT_FUNCS */

	int check = (int) ChCharOf(ch);
	const char *result;

(void) sp;
	if (check >= 0 && check < (int)SIZEOF(unctrl_table)) {
#if NCURSES_EXT_FUNCS
		if ((sp != 0)
		 && (sp->_legacy_coding > 1)
		 && (check >= 128)
		 && (check < 160))
			result = unctrl_c1[check - 128];
		else
		if ((check >= 160)
		 && (check < 256)
		 && ((sp != 0)
		  && ((sp->_legacy_coding > 0)
		   || (sp->_legacy_coding == 0
		       && isprint(check)))))
			result = unctrl_c1[check - 128];
		else
#endif /* NCURSES_EXT_FUNCS */
			result = unctrl_table[check];
	} else {
		result = 0;
	}
	return (NCURSES_CONST char *)result;
}

NCURSES_EXPORT(NCURSES_CONST char *) unctrl (chtype ch)
{
	return safe_unctrl(CURRENT_SCREEN, ch);
}
