load("@io_tweag_rules_haskell//haskell:haskell.bzl", "haskell_library")

haskell_library(
    name = "github",
    srcs = glob(["src/**/*.*hs"]),
    compiler_flags = [
        "-j10",
        "-XDataKinds",
        "-XDeriveDataTypeable",
        "-XDeriveGeneric",
        "-XOverloadedStrings",
        "-XRankNTypes",
        "-XScopedTypeVariables",
    ],
    src_strip_prefix = "src",
    version = "0.19",
    visibility = ["//visibility:public"],
    deps = [
        "@haskell_aeson//:aeson",
        "@haskell_aeson_compat//:aeson-compat",
        "@haskell_base16_bytestring//:base16-bytestring",
        "@haskell_base_compat//:base-compat",
        "@haskell_binary_orphans//:binary-orphans",
        "@haskell_byteable//:byteable",
        "@haskell_cryptohash//:cryptohash",
        "@haskell_deepseq_generics//:deepseq-generics",
        "@haskell_exceptions//:exceptions",
        "@haskell_hashable//:hashable",
        "@haskell_http_client//:http-client",
        "@haskell_http_client_tls//:http-client-tls",
        "@haskell_http_link_header//:http-link-header",
        "@haskell_http_types//:http-types",
        "@haskell_iso8601_time//:iso8601-time",
        "@haskell_network_uri//:network-uri",
        "@haskell_unordered_containers//:unordered-containers",
        "@haskell_vector//:vector",
        "@haskell_vector_instances//:vector-instances",
        "@toktok//third_party/haskell:base",
        "@toktok//third_party/haskell:binary",
        "@toktok//third_party/haskell:bytestring",
        "@toktok//third_party/haskell:containers",
        "@toktok//third_party/haskell:deepseq",
        "@toktok//third_party/haskell:mtl",
        "@toktok//third_party/haskell:text",
        "@toktok//third_party/haskell:time",
        "@toktok//third_party/haskell:transformers",
    ],
)
